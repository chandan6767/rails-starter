<%# app/views/shared/_button.html.erb %>
<%# Usage: render partial: "shared/button", locals: { text: "Click Me", onclick: "alert('Hello')" } %>

<% classes ||= "" %>
<% variant ||= "primary" %>
<% type ||= "button" %>
<% onclick ||= nil %>
<% data ||= {} %>

<% variant_class = {
  "primary" => "bg-indigo-600 hover:bg-indigo-700",
  "danger" => "bg-red-600 hover:bg-red-700",
  "success" => "bg-green-600 hover:bg-green-700"
}[variant] %>

<%# Build data attributes string manually %>
<% data_attrs = data.map { |key, value| "data-#{key}=\"#{value}\"" }.join(" ") %>

<button
  type="<%= type %>"
  <%= "onclick=\"#{onclick}\"" if onclick.present? %>
  class="inline-flex items-center px-4 py-2 text-sm font-medium rounded-md shadow-sm text-white <%=variant_class=%> focus:outline-none focus:ring-2 focus:ring-offset-2 <%=classes=%>"
  <%= data_attrs.html_safe %>
>
  <%= text %>
</button>
